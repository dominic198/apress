(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{LSyF:function(t,e,n){"use strict";n.r(e),n.d(e,"NotesModule",function(){return O});var o=n("tyNb"),r=n("fXoL"),c=n("lyU2"),s=n("ofXK"),i=n("Wp6s"),a=n("NFeN");function b(t,e){1&t&&(r.Rb(0,"button",3),r.Rb(1,"mat-icon"),r.tc(2,"edit"),r.Qb(),r.Qb())}function d(t,e){1&t&&r.Nb(0,"mat-progress-bar",4)}let l=(()=>{class t{constructor(){this.edit=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-note-card"]],inputs:{note:"note",loading:"loading",edit:"edit"},decls:11,vars:8,consts:[[1,"text-right"],["color","primary",4,"ngIf"],["mode","indeterminate",4,"ngIf"],["color","primary"],["mode","indeterminate"]],template:function(t,e){1&t&&(r.Rb(0,"mat-card"),r.Rb(1,"mat-card-title"),r.tc(2),r.Qb(),r.Rb(3,"mat-card-subtitle"),r.tc(4),r.bc(5,"date"),r.Qb(),r.Rb(6,"mat-card-content"),r.tc(7),r.Qb(),r.Rb(8,"mat-card-footer",0),r.rc(9,b,3,0,"button",1),r.rc(10,d,1,0,"mat-progress-bar",2),r.Qb(),r.Qb()),2&t&&(r.Cb(2),r.uc(e.note.title),r.Cb(2),r.uc(r.dc(5,5,e.note.created_at,"short")),r.Cb(3),r.uc(e.note.content),r.Cb(2),r.gc("ngIf",e.edit),r.Cb(1),r.gc("ngIf",e.loading))},directives:[i.a,i.f,i.e,i.b,i.c,s.l,a.a],pipes:[s.e],styles:[""]}),t})();const u=function(t){return["/notes",t]};function f(t,e){if(1&t&&(r.Nb(0,"app-note-card",3),r.bc(1,"async")),2&t){const t=e.$implicit,n=r.ac(2);r.gc("note",t)("loading",r.cc(1,3,n.isDbLoading$))("routerLink",r.ic(5,u,t.id))}}function p(t,e){if(1&t&&(r.Rb(0,"div"),r.rc(1,f,2,7,"app-note-card",2),r.Qb()),2&t){const t=e.ngIf;r.Cb(1),r.gc("ngForOf",t)}}function m(t,e){1&t&&(r.Rb(0,"mat-card"),r.Rb(1,"mat-card-title"),r.tc(2," Either you have no notes "),r.Qb(),r.Qb())}let g=(()=>{class t{constructor(t){this.db=t}ngOnInit(){this.notes$=this.db.initializeNotes(),this.isDbLoading$=this.db.isLoading$}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(c.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-notes-list"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["notFound",""],[3,"note","loading","routerLink",4,"ngFor","ngForOf"],[3,"note","loading","routerLink"]],template:function(t,e){if(1&t&&(r.rc(0,p,2,1,"div",0),r.bc(1,"async"),r.rc(2,m,3,0,"ng-template",null,1,r.sc)),2&t){const t=r.kc(3);r.gc("ngIf",r.cc(1,2,e.notes$))("ngIfElse",t)}},directives:[s.l,s.k,l,o.c,i.a,i.f],pipes:[s.b],styles:[""]}),t})();var h=n("XNiG"),v=n("t6Rh"),N=n("3Pt+"),y=n("kmnG"),I=n("qFsG"),R=n("ihCf"),Q=n("bTqV");let k=(()=>{class t{constructor(t){this.fb=t,this.saveNote=new r.n,this.sendError=new r.n}ngOnInit(){this.createForm(),this.note&&this.noteForm.patchValue(this.note)}createForm(){this.noteForm=this.fb.group({title:["",N.l.required],content:["",N.l.required]})}addNote(){this.noteForm.valid?this.saveNote.emit(this.noteForm.value):this.sendError.emit("please fill all fields")}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(N.b))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-note-form"]],inputs:{note:"note"},outputs:{saveNote:"saveNote",sendError:"sendError"},decls:11,vars:1,consts:[[1,"note-container",3,"formGroup"],["matInput","","placeholder","Enter your title","formControlName","title","required",""],["matInput","","placeholder","Leave a comment","formControlName","content","required","","cdkTextareaAutosize",""],[1,"text-right"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"mat-form-field"),r.Nb(2,"input",1),r.Qb(),r.Nb(3,"br"),r.Rb(4,"mat-form-field"),r.Nb(5,"textarea",2),r.Qb(),r.Qb(),r.Nb(6,"br"),r.Nb(7,"br"),r.Rb(8,"div",3),r.Rb(9,"button",4),r.Yb("click",function(){return e.addNote()}),r.tc(10,"Save"),r.Qb(),r.Qb()),2&t&&r.gc("formGroup",e.noteForm)},directives:[N.h,N.d,y.c,I.a,N.a,N.g,N.c,N.k,R.b,Q.a],styles:[".note-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.note-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}"]}),t})();function w(t,e){if(1&t&&(r.Rb(0,"mat-card-subtitle",2),r.tc(1),r.Qb()),2&t){const t=e.ngIf;r.Cb(1),r.vc(" ",t," ")}}function E(t,e){if(1&t&&(r.Rb(0,"mat-card-subtitle",8),r.tc(1),r.Qb()),2&t){const t=e.ngIf;r.Cb(1),r.vc(" ",t," ")}}function M(t,e){if(1&t){const t=r.Sb();r.Rb(0,"mat-card"),r.rc(1,E,2,1,"mat-card-subtitle",6),r.bc(2,"async"),r.Rb(3,"mat-card-content"),r.Rb(4,"app-note-form",7),r.Yb("saveNote",function(e){return r.lc(t),r.ac(2).saveNote(e)})("sendError",function(e){return r.lc(t),r.ac(2).sendError(e)}),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.ac().ngIf,e=r.ac();r.Cb(1),r.gc("ngIf",r.cc(2,2,e.errorMessages$)),r.Cb(3),r.gc("note",t)}}function C(t,e){if(1&t&&(r.Nb(0,"app-note-card",9),r.bc(1,"async")),2&t){const t=r.ac().ngIf,e=r.ac();r.gc("note",t)("loading",r.cc(1,2,e.isDbLoading$))}}function $(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.rc(1,M,5,4,"mat-card",2),r.rc(2,C,2,4,"app-note-card",3),r.Rb(3,"button",4),r.Yb("click",function(){return r.lc(t),r.ac().delete()}),r.Rb(4,"mat-icon"),r.tc(5,"delete"),r.Qb(),r.Qb(),r.Rb(6,"button",5),r.Yb("click",function(){return r.lc(t),r.ac().edit()}),r.Rb(7,"mat-icon"),r.tc(8,"edit"),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.ac();r.Cb(1),r.gc("ngIf",t.isEdit),r.Cb(1),r.gc("ngIf",!t.isEdit)}}function F(t,e){1&t&&r.Nb(0,"mat-spinner")}const L=[{path:"",component:g},{path:"add",component:(()=>{class t{constructor(t,e,n){this.router=t,this.data=e,this.snackBar=n,this.errorMessages$=new h.a}onSaveNote(t){this.data.addNote(t).then(t=>{this.router.navigate(["/notes"]),this.snackBar.open(`Note ${t.id} has been successfully saved`)}).catch(t=>{this.errorMessages$.next("something is wrong when adding to DB")})}onSendError(t){this.errorMessages$.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(o.b),r.Mb(c.a),r.Mb(v.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-notes-add"]],decls:7,vars:3,consts:[["class","error",4,"ngIf"],[3,"saveNote","sendError"],[1,"error"]],template:function(t,e){1&t&&(r.Rb(0,"mat-card"),r.Rb(1,"mat-card-title"),r.tc(2,"New Note"),r.Qb(),r.rc(3,w,2,1,"mat-card-subtitle",0),r.bc(4,"async"),r.Rb(5,"mat-card-content"),r.Rb(6,"app-note-form",1),r.Yb("saveNote",function(t){return e.onSaveNote(t)})("sendError",function(t){return e.onSendError(t)}),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Cb(3),r.gc("ngIf",r.cc(4,1,e.errorMessages$)))},directives:[i.a,i.f,s.l,i.b,k,i.e],pipes:[s.b],styles:[""]}),t})()},{path:":id",component:(()=>{class t{constructor(t,e,n,o){this.data=t,this.route=e,this.snackBar=n,this.router=o,this.errorMessages$=new h.a}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");this.id=t,this.note$=this.data.getNoteFromDirectApi(t),this.isDbLoading$=this.data.isLoading$}delete(){confirm("Are you sure?")&&this.data.deleteNote(this.id).then(()=>{this.router.navigate(["/notes"]),this.snackBar.open(`${this.id} successfully was deleted`)}).catch(t=>{this.snackBar.open("Unable to delete this note")})}edit(){this.isEdit=!this.isEdit}saveNote(t){this.data.editNote(this.id,t).then(()=>{this.snackBar.open("Successfully done"),this.edit()}).catch(t=>{this.snackBar.open("Unable to edit this note"),this.edit()})}sendError(t){this.errorMessages$.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(c.a),r.Mb(o.a),r.Mb(v.a),r.Mb(o.b))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-note-details"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["spinner",""],[4,"ngIf"],[3,"note","loading",4,"ngIf"],["mat-raised-button","","color","accent",3,"click"],["mat-raised-button","","color","primary",3,"click"],["class","error",4,"ngIf"],[3,"note","saveNote","sendError"],[1,"error"],[3,"note","loading"]],template:function(t,e){if(1&t&&(r.rc(0,$,9,2,"div",0),r.bc(1,"async"),r.rc(2,F,1,0,"ng-template",null,1,r.sc)),2&t){const t=r.kc(3);r.gc("ngIf",r.cc(1,2,e.note$))("ngIfElse",t)}},directives:[s.l,Q.a,a.a,i.a,i.b,k,i.e,l],pipes:[s.b],styles:[""]}),t})()}];let G=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[o.d.forChild(L)],o.d]}),t})();var x=n("FpXt");let O=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[x.a,G,s.c]]}),t})()}}]);